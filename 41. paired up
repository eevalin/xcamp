from heapq import heappush, heappop
n = int(input())
cows = []
for i in range(n):
  a = [int(x) for x in input().split()]
  cows.append([a[1], a[0]])
cows.sort()
ans = 0
i = 0
j = n - 1
while i <= j:
  ans = max(ans, cows[i][0] + cows[j][0])
  temp = min(cows[i][1], cows[j][1])
  cows[i][1] -= temp
  if i != j:
    cows[j][1] -= temp
  if cows[i][1] == 0:
    i += 1
  if cows[j][1] == 0:
    j -= 1
print(ans)
